apiVersion: performance.openshift.io/v2
kind: PerformanceProfile
metadata:
  name: perf-profile-48c
spec:
  cpu:
    isolated: "2-19,22-47"    # Reserve CPUs for workloads
    reserved: "0-1,20-21"     # Reserve CPUs for platform
    balanceIsolated: false    # Disable kernel scheduler balancing
  hugepages:
    defaultHugepagesSize: "1G"
    pages:
      - size: "1G"
        count: 28             # adjust based on workload requirements
  realTimeKernel:
    enabled: false
  numa:
    # All guaranteed QoS containers get resources from a single NUMA node
    topologyPolicy: "single-numa-node"
  net:
    userLevelNetworking: false
  workloadHints:
    realTime: false
    highPowerConsumption: false
    perPodPowerManagement: true
  powerManagement:
    mode: "powersave"         # set scaling governor to powersave
  globallyDisableIrqLoadBalancing: false
  nodeSelector:
    node-role.kubernetes.io/master: ""
